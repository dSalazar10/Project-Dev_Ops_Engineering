This will create a plugin file and fill it with some useful plugins and then automatically install it
sudo touch /usr/share/jenkins/plugins.txt && sudo /bin/su -c "echo $'aqua-microscanner\nblueocean\npipeline-aws\nsaferestart' >> /usr/share/jenkins/plugins.txt" && /usr/local/bin/install-plugins.sh < /usr/share/jenkins/plugins.txt;

Memory Issues With Docker in EC2:
1) This will expand the storage to 20GiB for all docker images
- sudo /bin/su -c "chmod 666 /var/run/docker.sock && echo $'{\n\t\"experimental\" : true,\n\t\"storage-driver\" : \"devicemapper\",\n\t\"storage-opts\" : [\"dm.basesize=50G\"]\n}' > /etc/docker/daemon.json && systemctl daemon-reload && systemctl restart docker" 
2) This is how you expand the EBS Volume in AWS:
- Navigate to ec2
- Look at the details of your instance and locate root device and block device
- click on the path and select EBS ID
- click actions in the volume panel
- select modify volume
- enter the desired volume size
- ssh into instance
- run lsblk to see available volumes and note the size
- run sudo growpart /dev/<volumename> 1 on the volume you want to resize
- run sudo xfs_growfs /dev/<volumename> (the one with / in mountpoint column of lsblk)

To remove all the containers and images:
- service docker stop
- rm -rf /var/lib/docker ( the default graphdriver which you have set)
- service docker start

Docker images used in pipeline:
- beevelop/ionic
- node:12