This will create a plugin file and fill it with some useful plugins
sudo touch /usr/share/jenkins/plugins.txt && sudo /bin/su -c "echo $'aqua-microscanner\nblueocean\npipeline-aws\nsaferestart' >> /usr/share/jenkins/plugins.txt" && /usr/local/bin/install-plugins.sh < /usr/share/jenkins/plugins.txt;




Memory Issues With Docker in EC2:
1) (Optional) This will move the docker data directory to user directory
- sudo touch /etc/docker/daemon.json && sudo /bin/su -c "echo $'{\n\t"data-root": "/home/ubuntu/docker_data"\n}' >> /etc/docker/daemon.json"
2) This will expand the storage to 20GiB for all docker images
- sudo /bin/su -c "echo $'{\n"experimental" : true,\n"storage-driver" : "devicemapper",\n"storage-opts" : ["dm.basesize=20G"]\n}' > /etc/docker/daemon.json" && systemctl daemon-reload && systemctl restart docker
3) This is how you expand the EBS Volume in AWS:
- Navigate to ec2
- Look at the details of your instance and locate root device and block device
- click on the path and select EBS ID
- click actions in the volume panel
- select modify volume
- enter the desired volume size (default is 8GB, shouldnâ€™t need much more)
- ssh into instance
- run lsblk to see available volumes and note the size
- run sudo growpart /dev/volumename 1 on the volume you want to resize
- run sudo xfs_growfs /dev/volumename (the one with / in mountpoint column of lsblk)